{"version":3,"sources":["components/Navbar.js","components/Footer.js","components/Haku.js","components/Legend.js","components/Info.js","components/Kartta.js","components/Laatikko.js","services/thl.js","services/gtrends.js","components/korrelaatiolaskin.js","components/Slider.js","components/Dropdown.js","components/Scatterplot.jsx","components/LinearGraph.jsx","components/LaatikkoKorrelaatio.js","App.js","serviceWorker.js","index.js"],"names":["Alert","useState","show","setShow","handleClose","Navbar","className","bg","variant","Brand","Nav","Button","onClick","Modal","onHide","animation","Header","closeButton","Title","Body","Footer","email","href","Haku","value","handleChange","handleKeyPress","hakemassa","TextField","id","label","size","onChange","type","onKeyUp","disabled","autoFocus","Legend","props","legend","L","control","position","onAdd","from","to","d","div","DomUtil","create","grades","labels","i","length","push","innerHTML","join","map","this","leaflet","addTo","MapControl","withLeaflet","Info","state","kunta","setState","remove","kuntaRajat","require","style","feature","color","properties","korona","weight","opacity","dashArray","fillOpacity","fillColor","Kartta","highlight","highlightFeature","bind","resetHighlight","onEachFeature","clickFeature","layer","on","mouseover","mouseout","click","e","target","code","name","setStyle","Browser","ie","opera","edge","bringToFront","features","undefined","koronaData","hakuData","haku","Map","center","zoom","TileLayer","url","attribution","GeoJSON","data","Component","Laatikko","Container","koronaLaatikko","nimi","trends","kaikki","getData","a","axios","get","vastaus","getDataEiAsync","_","gtrendsDataPohja","hakusana","alkupvm","loppupvm","console","log","hakuUrl","timerStart","Date","now","then","response","duration","status","gtrendsData","cloneDeep","Object","assign","catch","error","laskekorrelaatio","scatterData","koronakeskihajontalaskuri","hakukeskihajontalaskuri","koronakeskiarvolaskuri","hakukeskiarvolaskuri","hakupituus","koronapituus","uskottavuus","element","solu","hakukeskiarvo","koronakeskiarvo","hakuhajonta","Math","sqrt","koronahajonta","pearsonlaskuri","pearsonjakaja","pearson","teksti","abs","useStyles","makeStyles","root","width","valuetext","RangeSlider","marks","classes","max","margin","textAlign","Typography","gutterBottom","Slider","valueLabelDisplay","aria-labelledby","getAriaValueText","min","DropdownSearch","valittuKunta","kuntaValinnat","kuntaData","kunnat","kuntaNimi","iKunta","key","koodi","text","sort","b","Dropdown","button","floating","labeled","icon","options","search","ScatterPlot","height","x","scaleLinear","domain","range","y","transform","scale","axis","axisBottom","axisLeft","class","textAnchor","dy","React","DrawCircles","xy","cx","cy","r","fill","Axis","node","refs","select","call","ref","LinearGraph","LaatikkoKorrelaatio","korrelaatio","sana","slice","avain","avain1","gtrendsavain","kuntaAvain","haettu","trendsData","hakualku","hakuloppu","haepaiva","viikko","ekaPaiva","getDay","paiva","getTime","p","getDate","k","getMonth","getFullYear","today","getWeek","onejan","dayOfYear","ceil","App","setHakusana","asetettuHakusana","setAsetettuHakusana","thlData","setThlData","setKoronaData","laatikkoKorona","setLaatikkoKorona","laatikkoKorrelaatio","setLaatikkoKorrelaatio","scatterPlotData","setscatterPlotData","valittuDropDown","setValittuDropDown","sliderValue","setSliderValue","kartanFiltteri","setKartanFiltteri","kaikkiTapaukset","setKaikkiTapaukset","setKunta","gtrendsHakemassa","setGtrendsHakemassa","useEffect","ThlService","thl","initThlData","rajattuData","ylä","ala","kArvo","arvo","parseInt","isNaN","haeGtrendsTulokset","GTrendsService","gtData","tulos","v","filtteri","karttafunktio","event","newValue","fluid","Row","Col","xs","md","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4498f004.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Button from 'react-bootstrap/Button'\nimport Nav from 'react-bootstrap/Nav'\nimport Modal from 'react-bootstrap/Modal'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nNavbar.js luo navigointipalkin sivuston yläreunaan.\nSisältää info-nappulan, joka avaa modaalin, jossa on tietoa sivuston toiminnasta \n*/\n\nfunction Alert() {\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n    return (\n      <div>\n          <Navbar className=\"Navbar\" bg=\"primary\" variant=\"light\">\n          <Navbar.Brand>Koronakorrelaatio</Navbar.Brand>\n        <Nav>\n          <Button \n          className=\"nappi\" \n          variant=\"primary\"\n          onClick={handleShow}\n          >Info\n          </Button>\n        </Nav>\n        </Navbar>\n\n        <Modal\n        className=\"alert\"\n        show={show} \n        onHide={handleClose} \n        animation={false}>\n        <Modal.Header closeButton>\n          <Modal.Title>Tervetuloa käyttämään Koronakorrelaatio-sovellusta</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          \n          <p>\n          Koronakorrelaatiosta voit hakea tietoa Suomen eri kuntien koronatilanteesta. \n          <br/>\n          Voit myös tutkia miten koronatilanne korreloi google.trends palveluun syötettyjen hakusanojen kanssa. \n          <br/>\n          <br/>\n          <br/>\n          <b>Kartan käyttö:</b> Kartan kuntia klikkaamalla tiedot kunnasta ilmestyvät viereisen laatikkoon. Karttaa voi myös liikuttaa ja zoomata. Jos et löydä haluamaasi kuntaa voit käyttää viereistä dropdown-valikkoa valitaksesi kunnan, josta haluat tietoa.\n          <br/>\n          <br/>\n          <b>Korrelaatiohaku:</b> Kirjoittamalla hakukenttään hakusanan ja painamalla enteriä sovellus hakee ja laskee trends- ja koronadatan välisen korrelaation Pearsonin korrelaatiokertoimen kaavalla. Haku toimii vain yhden hakusanan kanssa, joten vältä välilyöntien käyttämistä.\n\n          </p>\n           </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" onClick={handleClose}>\n            Sulje\n          </Button>\n        </Modal.Footer>\n      </Modal>\n        </div>\n    );\n  }\n\nexport default Alert","import React from 'react';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nFooter.js sisältää tiedon sivun tekijöistä\n*/\n\nlet email = {\n  vilma: \"vilma.e.patama@student.jyu.fi\",\n  antti: \"antti.j.t.heimonen@student.jyu.fi\",\n  maria: \"maria.e.kangas@student.jyu.fi\",\n  konsta: \"naktos.kalliokoski@gmail.com\"\n}\n\n\nconst Footer = () => (\n  <div className='footer'>\n    <p className=\"laatikkoP\">&copy;   <a href={\"mailto:\" + email.antti}>Antti Heimonen</a>,  <a href={\"mailto:\" + email.maria}>Maria Kangas</a>,  <a href={\"mailto:\" + email.konsta}>Konsta Kalliokoski</a> ja  <a href={\"mailto:\" + email.vilma}>Vilma Patama</a></p>\n    \n  </div>\n)\n\nexport default Footer","import React from 'react'\nimport '../App'\nimport '../App.css'\nimport TextField from '@material-ui/core/TextField';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nHaku.js on yksinkertainen hakupalkki, jota app.js kontrolloi\n*/\n\nconst Haku = ({value, handleChange, handleKeyPress, hakemassa}) => {\n\n  return (\n    <div className = \"Haku\">\n      <TextField \n      id           = \"outlined-basic\" \n      label        = \"Kirjoita hakusana\" \n      variant      = \"outlined\"\n      className    = \"Hakukentta\"\n      size         = \"small\"\n      value        = {value} \n      onChange     = {handleChange}\n      type         = \"text\"\n      onKeyUp      = {handleKeyPress}\n      disabled     = {hakemassa}\n      autoFocus    = {true} />\n      </div>\n  )\n}\n\nexport default Haku","import { MapControl, withLeaflet } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n\nclass Legend extends MapControl {\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nLegend.js piirtää kartan oikeaan alakulmaan palkin joka kertoo mitä mikäkin väri kartalla merkitsee\n*/\n\n  createLeafletElement(props) {}\n\n  componentDidMount() {\n    // Asettaa värin d:n perusteella\n    const getColor = d => {\n      return d > 1000 ?  '#800026':\n      d > 300  ?  '#BD0026':\n      d > 150  ?  '#E31A1C':\n      d > 75   ?  '#FC4E2A':\n      d > 25   ?  '#FD8D3C':\n      d > 10   ?  '#FEB24C':\n      d > 4    ?  '#FED976':\n                  '#dcf1f2';\n    }  \n\n    const legend = L.control({ position: \"bottomright\" });\n\n    legend.onAdd = () => {\n      const div = L.DomUtil.create(\"div\", \"info legend\");\n      const grades = [0, 4, 10, 25, 75, 150, 300, 1000];\n      let labels = [];\n      let from;\n      let to;\n\n      for (let i = 0; i < grades.length; i++) {\n        from = grades[i];\n        to = grades[i + 1];\n\n        labels.push(\n          '<i style=\"background:' +\n            getColor(from + 1) +\n            '\"></i> ' +\n            from +\n            (to ? \"&ndash;\" + to : \"+\")\n        );\n      }\n      \n\n      div.innerHTML = labels.join(\"<br>\");\n      return div;\n    };\n\n    const { map } = this.props.leaflet;\n    legend.addTo(map);\n  }\n}\n\nexport default withLeaflet(Legend);","import { MapControl, withLeaflet } from \"react-leaflet\";\nimport L from \"leaflet\";\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nInfo.js luo info-palkin kartalle, joka näyttää kunnan nimen oikeassa yläkulmassa\nKun kunta muuttuu niin poistaa vanhan palkin ja piirtää uuden uudella nimellä\n*/\n\nconst legend = L.control({ position: \"topright\" });\n\nclass Info extends MapControl {\n\n  constructor(props){\n    super(props)\n    this.state = {\n\t\t\tkunta: props.kunta\n    }\n  }\n\n\n  createLeafletElement(props) {}\n\n  componentDidUpdate(){\n    if(this.props.kunta !== this.state.kunta){\n      //console.log(this.props.kunta)\n      this.setState({kunta: this.props.kunta})\n      legend.remove()\n      const { map } = this.props.leaflet;\n      legend.addTo(map)\n    }\n  }\n\n  componentDidMount() {\n    legend.onAdd = () => {\n      const div = L.DomUtil.create(\"div\", \"info kunta\");\n\n      div.innerHTML = this.props.kunta;\n      return div;\n    };\n\n    const { map } = this.props.leaflet;\n    legend.addTo(map);\n  }\n}\n\nexport default withLeaflet(Info);","import React, {Component} from 'react'\nimport { Map, TileLayer, GeoJSON } from 'react-leaflet'\nimport L from 'leaflet'\nimport Legend from \"./Legend\";\nimport Info from \"./Info\";\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nKartta.js piirtää kartan ja asettaa sille geojson layerin, johon on liitetty korona- ja gtrendsdata\nKartta piirtää myös legend- ja info-palkit kaiken päälle. Pohjimmaiseksi piirretään openstreetmapin kartan \n*/\n\nlet kuntaRajat \t\t= require ('../data/kuntarajat-ok.json')\n\nconst position = [65.505, 27] //Kartan alustava keskipiste\nlet f = 1 //käyttämätön ominaisuus\n\n\n\n//Palauttaa tyylin geojsonia varten\nfunction style(feature) {\n\t//f:llä voi ohjata mitä propseja kartta käyttää väritykseen, ei käytössä\n\tlet color = f === 1 ? feature.properties.korona: \n\t\t\t\t\t\t\tf === 2 ? feature.properties.haku:\n\t\t\t\t\t\t\tfeature.properties.korona * (feature.properties.haku / 100)\n\n\treturn {\n\t\tweight:        1,\n\t\topacity:       5,\n\t\tcolor: '#1e1f1f',\n\t\tdashArray:    '',\n\t\tfillOpacity: 0.7,\n\t\tfillColor: getColor(color)\n\t};\n}\n\n//Palauttaa tietyn värin d:n arvon perusteella\nfunction getColor(d) {\n\treturn  d > 1000 ?  '#800026':\n\t\t\t\t\td > 300  ?  '#BD0026':\n\t\t\t\t\td > 150  ?  '#E31A1C':\n\t\t\t\t\td > 75   ?  '#FC4E2A':\n\t\t\t\t\td > 25   ?  '#FD8D3C':\n\t\t\t\t\td > 10   ?  '#FEB24C':\n\t\t\t\t\td > 4    ?  '#FED976':\n\t\t\t\t\t\t\t\t\t\t\t'#dcf1f2';\n}\n \nclass Kartta extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n\t\t\thighlight: \"Laita hiiri kunnan päälle nähdäksesi sen nimen\"\n\t\t}\n\t\tthis.highlightFeature = this.highlightFeature.bind(this);\n\t\tthis.resetHighlight = this.resetHighlight.bind(this);\n\t\tthis.onEachFeature = this.onEachFeature.bind(this);\n\t\tthis.clickFeature = this.clickFeature.bind(this);\n\t}\n\t\n\t//Asettaa nämä ominaisuudet jokaisella layerille\n\tonEachFeature (feature, layer){\n\t\tlayer.on({\n\t\t\tmouseover: this.highlightFeature,\n\t\t\tmouseout:  this.resetHighlight,\n\t\t\tclick:     this.clickFeature\n\t\t});\n\t\t// const popupContent = ReactDOMServer.renderToString(\n\t\t// \t<Popup feature={feature} />\n\t\t// );\n\t\t//layer.bindPopup(popupContent);\n\t}\n\n\t//klikkauksen käsittelijä, muuttaa laatikkoa appin kautta\n\tclickFeature(e) {\n\t\tvar layer = e.target\n\t\t//console.log (layer.feature.properties)\n\t\tthis.props.handleChange(layer.feature.properties.code)\n\t}\t\n\n\t//Korostaa tietyn layerin highlight -tyylillä\n\thighlightFeature(e) {\n\n\t\tvar layer = e.target;\n\t\t//console.log(layer.feature.properties.name)\n\t\tthis.setState({highlight:layer.feature.properties.name})\n\t\t//console.log(this.state)\n\t\tlayer.setStyle({\n\t\t\tweight:         4,\n\t\t\tcolor:     '#666',\n\t\t\tdashArray:     '',\n\t\t\tfillOpacity:  0.7\n\t\t});\n\t\tif (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n\t\t\tlayer.bringToFront();\n\t\t}\n\t}\n\n\t//Poistaa highlight -tyylin layeristä\n\tresetHighlight(e) {\n\t\tvar layer = e.target;\n\t\tlayer.setStyle({\n\t\t\tweight:        1,\n\t\t\topacity:       5,\n\t\t\tcolor: '#1e1f1f',\n\t\t\tdashArray:    '',\n\t\t\tfillOpacity: 0.7,\n\t\t});\n\t}\n\n  render(){\n\t\t//Käydään läpi koronadata ja hakudata ja liitetään se karttaan\n\t\tfor (const feature of kuntaRajat.features){\n\t\t\tlet id = feature.properties.code\n\t\t\tthis.props.koronaData[id][\"data\"] === undefined ? feature.properties.korona = 0 : feature.properties.korona = this.props.koronaData[id][\"data\"]\n\t\t\t\n      if(this.props.hakuData[id][\"data\"] !== undefined){\n\t\t\t\tfeature.properties.haku = this.props.hakuData[id][\"data\"]\n      }\t\n\t\t}\n\n    return (\n      <Map center={position} zoom={5}>\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors | Korona-data &copy; <a href=&quot;https://thl.fi/fi/tilastot-ja-data/aineistot-ja-palvelut/avoin-data/varmistetut-koronatapaukset-suomessa-covid-19-&quot;>THL</a>\"\n        />\n        <Legend />\n\t\t\t\t<Info \n\t\t\t\t\tkunta \t\t\t\t= {this.state.highlight}\n\t\t\t\t/>\n        <GeoJSON \n          data          = {kuntaRajat}\t\t\t\t\n          style         = {style}\n          onEachFeature = {this.onEachFeature}\n        />\t\n      </Map>\n    )\n  }\n}\n\nexport default Kartta\n","import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container';\nimport '../App.css'\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nLaatikko.js esittää kunnan tietoja tekstimuodossa. \nTarkoitus on, että kunnan voi valita muualla ja laatikko reagoi valintaa.\n*/\n\nclass Laatikko extends Component {\n  render() {\n    return (\n      <div className=\"laatikkoDiv\">\n      <Container className=\"Laatikko\">\n        <p className=\"laatikkoP\">\n          <b>Kunta:</b>            {this.props.koronaLaatikko.nimi   === \"\" ? \"Klikkaa kuntaa nähdäksesi tiedot\" :this.props.koronaLaatikko.nimi} <br/>\n          <b>Trends-arvo:</b>      {this.props.koronaLaatikko.trends === \"\" ? \"Tee haku nähdäksesi trends-arvot\" :this.props.koronaLaatikko.trends} <br/>\n          <b>Koronatartuntoja:</b> {this.props.koronaLaatikko.korona === \"\" ? \"Klikkaa kuntaa nähdäksesi tiedot\" :this.props.koronaLaatikko.korona} <br/>\n          <b>Korontartuntoja yhteensä Suomessa: </b> {this.props.kaikki} <br/>\n          Summassa ei ole huomioitu kuntia, joissa on ollut alle viisi koronatartuntaa laskettavalla viikolla.\n        </p>\n      </Container>\n      </div>\n    ) \n  }\n}\n\nexport default Laatikko","import axios from 'axios'\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\ngtrends.js kysyy backend-palvelimelta thl dataa\n*/\n\n// Package.json tiedostossa mainitun proxyn ansiosta backendin \n// osoitetta ei tarvitse kokonaan\nconst thlDataUrl = '/thl/thldata'\n\nconst getData = async () => {\n  const vastaus = await axios.get(thlDataUrl)\n  //console.log(vastaus.data)\n  return (vastaus.data)\n}\n\n\nconst getDataEiAsync = () => {\n  const vastaus = axios.get(thlDataUrl)\n  //console.log(vastaus.data)\n  return (vastaus.data)\n}\n\nexport default { getData, getDataEiAsync }","import axios from 'axios'\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\ngtrends.js kysyy backend-palvelimelta gtrends dataa\n*/\n\nvar _               = require('lodash');\n// Pohjassa kaikilla kunnilla on valmiina arvo 0\nlet gtrendsDataPohja = require('./../data/gtrends-avain.json')\nconst palvelin = `/gtrends`\n\n// Hakee hakusanan trendin Suomen kunnista annetulta ajanväliltä.\n// Päivämäärät ovat muotoa vuosi-kk-pp, esim. 2020-5-21  \n// Palauttaa datan muodossa:\n// {\n//   \"area005\": \"88\",\n//   \"area007\": \"100\",\n//   ...\n// }\n//\n// Jos hakuprosessi päättyy virheeseen, niin palauttaa null\nconst getData = async (hakusana, alkupvm, loppupvm) => {\n  console.log(`Gtrends haku: hakusana ${hakusana}, alkupvm ${alkupvm}, loppupvm ${loppupvm}`);\n  let hakuUrl =  `${palvelin}?hakusana=${hakusana}&alkupvm=${alkupvm}&loppupvm=${loppupvm}`\n  // console.log(hakuUrl);\n\n  let timerStart = Date.now();\n  return await axios.get(hakuUrl).then(response => { \n    let timerStop = Date.now();\n    let duration = timerStop - timerStart;\n    console.log(`Gtrends haku: Vastauksen status ${response.status}, kesto ${duration} ms`);\n    let gtrendsData = _.cloneDeep(gtrendsDataPohja)\n    Object.assign(gtrendsData, response.data)\n    return gtrendsData\n  }).catch(error => {\n    console.log(`Virhe Gtrends datan hakemisessa!`);\n    console.log(error);\n    return null\n  })\n}\n\nexport default { getData }","function laskekorrelaatio(hakuData, koronaData){\n\t\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n\n//Laskee korrelaation kahdelle samankokoiselle datasetille pearsonin korrelaatiokertoimen kaavalla\n//Palauttaa olion, joka sisältää tekstiä ja dataa\n\n\t/*\n\tconsole.log(hakuData)\n\tconsole.log(koronaData)\n\t*/\n\tlet scatterData = []\n\t\n\tlet koronakeskihajontalaskuri = 0\n\tlet hakukeskihajontalaskuri   = 0\n\tlet koronakeskiarvolaskuri    = 0\n\tlet hakukeskiarvolaskuri \t\t\t= 0\n\t\n\tlet hakupituus   = 0\n\tlet koronapituus = 0\n\tlet uskottavuus = 0\n\n\tfor(var element in koronaData){\n\t\tkoronakeskiarvolaskuri += koronaData[\"\" + element][\"data\"]\n\t\tkoronapituus++\n\t\tlet solu = [hakuData[\"\" + element] , koronaData[\"\" + element][\"data\"]]\n\t\tif (solu[0] !== 0 && solu[1] !== 0) uskottavuus++\n\t\tif (!(solu[0] === 0 && solu[1] === 0))scatterData.push(solu)\n\t\thakukeskiarvolaskuri += hakuData[\"\" + element]\n\t\thakupituus++\n\t}\n\n\t//console.log(scatterData)\n\t\n\tlet hakukeskiarvo = hakukeskiarvolaskuri / hakupituus\n\tlet koronakeskiarvo = koronakeskiarvolaskuri / koronapituus\n\n\tfor(element in koronaData){\n\t\tkoronakeskihajontalaskuri += (koronaData[\"\" + element][\"data\"] - koronakeskiarvo) * (koronaData[\"\" + element][\"data\"] - koronakeskiarvo)\n\t\thakukeskihajontalaskuri += (hakuData[\"\" + element] - hakukeskiarvo) * (hakuData[\"\" + element] - hakukeskiarvo)\n\t}\n\n\tlet hakuhajonta = Math.sqrt(hakukeskihajontalaskuri / hakupituus) \n\tlet koronahajonta = Math.sqrt(koronakeskihajontalaskuri / koronapituus) \n\tlet pearsonlaskuri = 0\n\n\tfor(element in hakuData){\n\t\t\tpearsonlaskuri += (hakuData[\"\" + element] - hakukeskiarvo) * (koronaData[\"\" + element][\"data\"] - koronakeskiarvo) //* (helement.haku - hakukeskiarvo)\n\t}\n\t\n\tlet pearsonjakaja = (koronapituus * koronahajonta * hakuhajonta)\n\tlet pearson = pearsonjakaja !== 0 ? pearsonlaskuri / pearsonjakaja : 0\n\n\t/*\n\tconsole.log(koronakeskiarvo)\n\tconsole.log(koronapituus)\n\tconsole.log(koronahajonta)\n\tconsole.log(koronakeskihajontalaskuri)\n\tconsole.log(pearsonjakaja)\n\tconsole.log(pearson)\n\t*/\n\n\tlet data = {}\n\tdata.teksti = pearson > 0.7 || pearson < -0.7 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien välillä on selvä lineaarinen yhteys\" :\n\t\t\t\t\t\t\t\tpearson > 0.3 || pearson < -0.3 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien välillä on jonkin verran lineaarista yhteyttä\" :\n\t\t\t\t\t\t\t\tpearson > 0.1 || pearson < -0.1 ? \n\t\t\t\t\t\t\t\t\t\"muuttujien välillä ei ole juurikaan lineaarista yhteyttä\":\n\t\t\t\t\t\t\t\t\t\"muuttujien välillä ei ole lineaarista yhteyttä\";\n\tdata.pearson = Math.abs(pearson) \n\tdata.scatterData = scatterData\n\tdata.uskottavuus = uskottavuus\n\t//console.log(data)\n\n\treturn data\n}\n\nexport default laskekorrelaatio","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nSlider.js tekee valitsimen, jolla voi valita kuukaudet joista dataa käytetään\n*/\n\nconst useStyles = makeStyles({\n  root: {\n    width: 300,\n  },\n});\n\nfunction valuetext(value) {\n  return `${value}`;\n}\n\nexport default function RangeSlider(props) {\n\n  //Labelit slideriin\n  const marks = [\n    {\n      value: 4,\n      label: 'Tammi'\n    },\n    {\n      value: 12,\n      label: 'Maalis'\n    },\n    {\n      value: 20,\n      label: 'Touko'\n    },\n    {\n      value: 28,\n      label: 'Heinä'\n    },\n    {\n      value: 36,\n      label: 'Elo'\n    },\n    {\n      value: 44,\n      label: 'Loka'\n    }\n  ];\n\n  const tyyli = {\n    width: 300,\n    margin: '1em',\n    textAlign: 'center'\n  }\n  \n  const classes = useStyles();\n\n  if (props.max > 49) {\n    marks.push({\n      value: 50,\n      label: 'Joulu'\n    })\n  }\n\n  return (\n    <div className={classes.root} style={tyyli}>\n      <Typography id=\"range-slider\" gutterBottom>\n        Haettavat viikot koronatilastoille\n      </Typography>\n      <Slider\n        value={props.value}\n        onChange={props.handleChange}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n        getAriaValueText={valuetext}\n        min={5}\n        max={props.max}\n        marks={marks}\n      />\n    </div>\n  );\n}","import React from 'react'\nimport { Dropdown } from 'semantic-ui-react'\nimport kuntaData from '../data/avain.json'\nimport 'semantic-ui-css/semantic.min.css'\nimport '../App.css'\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nDropdown.js on valitsin, jonka avulla voi etsiä ja valita kunnan\n*/\n\nconst DropdownSearch = ({valittuKunta, onChange}) => {\n  // Alustetaan käytettävä array\n  const kuntaValinnat = []\n  \n  // Luodaan silmukassa kuntaDatan pohjalta objekti jokaiselle kunnalle ja asetetaan se kuntaValinnat arrayn sisään\n  for(let i = 0; i < kuntaData.kunnat.length; i++){\n      const kuntaNimi = kuntaData.kunnat[i].nimi;\n      const kuntaKoodi = kuntaData.kunnat[i].koodi;\n      const iKunta = {key: kuntaKoodi, text: kuntaNimi, value: kuntaNimi}\n      kuntaValinnat.push(iKunta);\n  }\n  kuntaValinnat.sort(function(a, b) {\n    if (a.text < b.text) return -1;\n    if (a.text > b.text) return 1;\n    return 0;\n  });\n  \n  // Tehdään dropdown\n  return(\n    <div className= 'dropdown'>\n    <Dropdown\n      button\n      className='icon'\n      floating\n      labeled\n      icon='write'\n      options={kuntaValinnat}\n      search\n      onChange={onChange}\n      // Asetetaan dropdownin tekstiksi kunnan nimi jota klikataan, kun kunta on undefined niin default teksti\n      text={valittuKunta === '' ? 'Valitse kunta' : '' + valittuKunta}\n    />\n    </div>\n  )\n}\n\nexport default DropdownSearch\n","import React from \"react\"\nimport { scaleLinear, max, axisLeft, axisBottom, select } from \"d3\"\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nScatterplot.jsx luo hajontagraafin datan perusteella\n*/\n\nexport default class ScatterPlot extends React.Component {\n\n  render() {\n    const margin = { top: 20, right: 15, bottom: 60, left: 60 }\n    const width = 600 - margin.left - margin.right\n    const height = 400 - margin.top - margin.bottom\n    const data = this.props.data\n\n    const x = scaleLinear()\n      .domain([\n        0,\n        max(data, function(d) {\n          return d[0]\n        })\n      ])\n      .range([0, width])\n\n    const y = scaleLinear()\n      .domain([\n        0,\n        max(data, function(d) {\n          return d[1]\n        })\n      ])\n      .range([height, 0])\n\n    return (\n      <div className=\"graafi\">\n        <svg\n          width={width + margin.right + margin.left}\n          height={height + margin.top + margin.bottom}\n          className=\"chart\"\n        >\n          <g\n            transform={\"translate(\" + margin.left + \",\" + margin.top + \")\"}\n            width={width}\n            height={height}\n            className=\"main\"\n          >\n            <DrawCircles data={data} scale={{ x, y }} />\n            <Axis\n              axis=\"x\"\n              transform={\"translate(0,\" + height + \")\"}\n              scale={axisBottom().scale(x)}\n            />\n            <Axis\n              axis=\"y\"\n              transform=\"translate(0,0)\"\n              scale={axisLeft().scale(y)}\n              \n            />\n          </g>\n          <text class=\"x-label\" textAnchor=\"end\" x={width} y={height+50}> G-Trends -data </text>\n          <text class=\"y-label\" textAnchor=\"end\" y={6} dy=\".75em\" transform=\"rotate(-90)\"> Koronaesiintymät kunnittain</text>\n          \n        </svg>\n      </div>\n    )\n  }\n}\n\nclass DrawCircles extends React.Component {\n  render() {\n    let DrawCircles = this.props.data.map((xy, i) => (\n      <circle\n        cx={this.props.scale.x(xy[0])}\n        cy={this.props.scale.y(xy[1])}\n        r=\"6\"\n        style={{ fill: \"#67B9CD\" }}\n        key={i}\n      />\n    ))\n    return <g>{DrawCircles}</g>\n  }\n}\n\nclass Axis extends React.Component {\n  componentDidMount() {\n    const node = this.refs[this.props.axis]\n    select(node).call(this.props.scale)\n  }\n\n  render() {\n    return (\n      <g\n        className=\"main axis date\"\n        transform={this.props.transform}\n        ref={this.props.axis}\n      />\n    )\n  }\n}","import React from \"react\"\nimport ScatterPlot from \"./Scatterplot\"\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nLinearGraph.js piirtää scatterplot komponentin jos se saa dataa\n*/\n\nexport default class LinearGraph extends React.Component {\n  render() {\n    if(this.props.data[0] !== undefined && this.props.uskottavuus !== 0)\n      return <ScatterPlot data={this.props.data} />;\n    else return (null)\n  }\n}","import React, { Component } from 'react'\nimport Container from 'react-bootstrap/Container';\nimport '../App.css'\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nLaatikkokorrelaatio.js esittää korrelaatiodataa tekstimuodossa.\nJos korrelaatiodataa ei ole, ei mitään renderöidä.\n*/\n\nclass LaatikkoKorrelaatio extends Component {\n  render() {\n    //Jos korrelaatiota ei ole laskettu tämä renderöidään, muuten else\n    if(this.props.korrelaatio.teksti === \"\")\n    return (\n      (null)\n    ); else\n    return (\n      <div className=\"laatikkoDiv\">\n      <Container className=\"Laatikko\">\n        <p className=\"laatikkoP\">\n        <b>Haettu hakusana:</b>              {this.props.sana === \"\" ? \"Ei hakua\" :this.props.sana} <br/>\n        <b>Pearsonin korrelaatiokerroin:</b> {(\"\" + this.props.korrelaatio.data).slice(0,6)} <br/>\n        <b>Korrelaatio:</b>                  {this.props.korrelaatio.teksti} <br/>\n        Datassa oli                          <b> {this.props.korrelaatio.uskottavuus} </b>  {this.props.korrelaatio.uskottavuus === 1 ? \" merkitsevä datapiste, joten\": \" merkitsevää datapistettä, joten\"}  <br/>  \n        <b> {this.props.korrelaatio.uskottavuus < 10 ? \"se ei todennäköisesti ole merkitsevä tulos\" : this.props.korrelaatio.uskottavuus < 25 ? \"se saattaa olla merkitsevä tulos \" : this.props.korrelaatio.uskottavuus < 50 ? \"se on mahdollisesti merkitsevä tulos\": \"se on todennäköisesti merkitsevä tulos\"} </b>\n        </p>\n        </Container>\n        </div>\n    ) \n  }\n}\n\nexport default LaatikkoKorrelaatio","import React, { useState, useEffect, } from 'react'\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/css/bootstrap-theme.css';\nimport Navigointi from './components/Navbar'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Footer from './components/Footer'\nimport Haku from './components/Haku'\nimport Kartta from './components/Kartta'\nimport Laatikko from './components/Laatikko'\nimport ThlService from './services/thl'\nimport GTrendsService from './services/gtrends'\nimport laskekorrelaatio from './components/korrelaatiolaskin'\nimport RangeSlider from './components/Slider'\nimport Dropdown from './components/Dropdown'\nimport LinearGraph from './components/LinearGraph'\nimport LaatikkoKorrelaatio from './components/LaatikkoKorrelaatio';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nApp.js on sivuston pääkomponentti, joka renderöi muut komponentit ja hoitaa datan kulun komponentista toiselle\nKutsuu services komponentteja ja hakee niiden avulla datan sovelluksen käyttöön\n*/\n\nvar _               = require('lodash');\nlet avain           = require('./data/avain.json')\nlet avain1          = require('./data/area-avain.json')\nlet gtrendsavain    = require('./data/gtrends-avain.json')\nlet kuntaAvain      = require('./data/kuntakoodit.json')\nlet hakuData        = _.cloneDeep(avain)\n    hakuData.haettu = 0\nlet trendsData       = _.cloneDeep(gtrendsavain)\n// let koronaData      = _.cloneDeep(avain)\nlet hakualku        = \"2020-01-28\"\nlet hakuloppu       = \"2020-01-28\"\n\n//palauttaa viikon ensimmäisen päivän muodossa vuosi-kuukausi-päivä\nfunction haepaiva(viikko){\n  let vuosi = 2020\n  let ekaPaiva = new Date(2020, 0, 1).getDay();\n  let paiva    = new Date(\"Jan 01, \" + vuosi + \" 01:00:00\")\n  let d        = new Date( paiva.getTime() - (3600000 * 24 * (ekaPaiva - 1)) + 604800000 * (viikko - 1))\n  \n  let p        = d.getDate()\n  let k        = d.getMonth() + 1\n  k            = ('0' + k).slice(-2)\n  let v        = d.getFullYear()\n  return \"\" + v + \"-\" + k + \"-\" + p\n}\n\nvar today = new Date();\n  //Hakee päivän perusteella kuluvan viikon\ntoday.getWeek = function () {\n    var onejan = new Date(this.getFullYear(), 0, 1);\n    var today = new Date(this.getFullYear(), this.getMonth(), this.getDate());\n    var dayOfYear = ((today - onejan + 86400000) / 86400000);\n    return Math.ceil(dayOfYear / 7)\n  };\nvar max = today.getWeek() + 1\nif(max>53)max = 53\n\n\nfunction App() {\n  const [hakusana, setHakusana]\n    = useState('')\n  const [asetettuHakusana = \"\", setAsetettuHakusana] \n    = useState('')\n  // ThlData sisältää backendiltä saadun datan. Tätä ei saa muuttaa\n  const [thlData, setThlData]                        \n    = useState(null)\n\n  const [koronaData, setKoronaData]                        \n    = useState(null)\n\n  const [laatikkoKorona, setLaatikkoKorona]          \n    = useState({ \n      id: \t\t \"area005\",\n      trends:  \"\",\n      korona:  \"\",\n      nimi:    \"\"\n    }\n  )\n  const [laatikkoKorrelaatio, setLaatikkoKorrelaatio] \n    = useState({\n      teksti: \"\",\n      data:    0,\n      uskottavuus: 0,\n    }\n  )\n  const [scatterPlotData, setscatterPlotData]\n    = useState([])\n  const [valittuDropDown, setValittuDropDown] \n    = useState('')\n  const [sliderValue, setSliderValue]                 \n    = useState([5, max])\n  const [kartanFiltteri, setKartanFiltteri]\n    = useState(1)\n  const [kaikkiTapaukset, setKaikkiTapaukset]\n    = useState(0)\n  const [kunta, setKunta] = useState(null)\n\n  const [gtrendsHakemassa, setGtrendsHakemassa] = useState(false)\n  \n\n  // Effect pyytää THL-datan backendiltä sivun auettua ja asettaa\n  // sen thlData-tilaan. thlData on null, kunnes oikea data asetetaan.\n  useEffect(() => {\n    async function initThlData() {\n      const thl = await ThlService.getData()\n      setThlData(thl)\n      //console.log(thl)\n    }\n    initThlData()\n  }, [])\n\n\n  const naytettavanDatanMuutos = () => {\n    if(thlData === null )\n      return\n\n    let rajattuData = _.cloneDeep(avain1)\n\n    let [ylä,  ala] = sliderValue\n    if  (ylä < ala){\n        [ala,  ylä] = sliderValue\n    }  \n\n    let kArvo = 0;\n\n    for (const kunta in rajattuData){\n        //alustetaan kaikkien kuntien koronadatksi 0\n        rajattuData[kunta].data = 0 \n        let id = \"\" + kunta\n\n        //Lisätään 0:aan thldatan arvoja\n        for (let i = ala; i <= ylä; i++){\n            let viikko = \"\" + ('0' + i).slice(-2)\n            if(thlData[\"2020\"][viikko][id] !== undefined){\n              let arvo = parseInt(thlData[\"2020\"][viikko][id])\n              if(!isNaN(arvo))\n                rajattuData[kunta][\"data\"] += arvo\n            }\n        }\n        kArvo += rajattuData[kunta].data\n    }\n    //console.log(kArvo)\n    setKaikkiTapaukset(kArvo)\n\n    setKoronaData(rajattuData)\n  }\n\n\n  // Funktio naytettavanDatanMuutos suoritetaan aina, kun thlData tai sliderValue muuttuu\n  useEffect(naytettavanDatanMuutos, [thlData, sliderValue])\n\n\n  //Handleri joka muuttaa laatikon arvoja. Suoritetaan, kun \n  const handleLaatikkoKoronaChange = () => {\n    if (kunta === null)\n      return\n\n    let value = kunta\n    var data;\n\n    data = {\n      id: value,\n      trends: trendsData[value] !== undefined ? trendsData[value] : \"Tee haku nähdäksesi trends-arvot\",\n      korona: koronaData !== null ? koronaData[value][\"data\"]: \"jahas\",\n      nimi: koronaData !== null ? koronaData[value][\"kunta\"]: \"jahas\"\n    }\n    setLaatikkoKorona(data)\n    setValittuDropDown(koronaData[value][\"kunta\"])\n  }\n\n  \n  // Päivittää laatikon sisällön, kun koronadata tai kunta muuttuu\n  useEffect(handleLaatikkoKoronaChange, [koronaData, kunta])\n\n\n  //Asettaa dropdownille oikean kunnan ja välittää handlelaatikkokoronachangelle\n  //Ilmon että valinta vaihtunut koodin kera\n  function handleDropDownChange (e, vastaus) {\n    setKunta(kuntaAvain[vastaus.value][\"koodi\"]);\n  }\n\n\n  // Tarkkailee hakusanaan tehtäviä muutoksia ja tallentaa ne valueen\n  const handleHakusanaChange = (e) => {\n    setHakusana(e.target.value);\n  }\n\n  //Handleri sliderille\n  const handleSliderChange = (event, newValue) => {\n    if(sliderValue === newValue)return\n    let [ala, ylä] = newValue\n    //tää pätkä estää slideria menemästä päällekkäin, jottei tapahdu kamalia\n    if (ylä - ala !== 0 )setSliderValue([ala,ylä]);\n  };\n\n  // Hakee Google Trendsin tulokset annetulle hakusanalle\n  const haeGtrendsTulokset = async () => {\n    setGtrendsHakemassa(true)\n    let [ala, ylä] = sliderValue\n    hakualku = haepaiva(ala)\n    hakuloppu = haepaiva(ylä)\n\n    GTrendsService.getData(hakusana, hakualku, hakuloppu).then(gtData => {\n      console.log(gtData)\n      setGtrendsHakemassa(false)\n      if (gtData === null){\n        // Gtrends-datan hakeminen epäonnistui\n        console.log(`Gtrends dataa ei voitu hakea!`);\n        return;\n      }\n      let tulos = laskekorrelaatio(gtData, koronaData)\n      trendsData = gtData\n      //console.log(tulos)\n      setscatterPlotData(tulos.scatterData)\n      setKartanFiltteri(3)\n      setLaatikkoKorrelaatio({\n        teksti: tulos.teksti,\n        data: tulos.pearson,\n        uskottavuus: tulos.uskottavuus\n      })\n    })\n  }\n\n  // Kutsuu hae-funktiota jos ollaan painettu enteriä\n  const handleEnterPress = (e) => {\n    if (e.key === 'Enter') {\n      setAsetettuHakusana(hakusana);\n      // console.log(hakusana);\n      console.log(asetettuHakusana);\n      if(hakusana !== \"\")haeGtrendsTulokset();\n    }\n  }\n\n  //Kartta piirretään vasta kun koronadata on alustettu\n  const karttafunktio = () => {\n    if(koronaData == null)\n     return\n    return (\n      <Kartta \n        koronaData     = {koronaData} \n        hakuData       = {trendsData} \n        handleChange   = {(v) => setKunta(v) } \n        filtteri       = {kartanFiltteri} />\n    )\n  }\n\n\n  //Jos thldata ei ole tullut perille niin ei renderöidä muuta kuin else\n  if(thlData !== null)\n    return (\n      <div className=\"App\">\n        <Navigointi/>\n      <div className=\"Flex\">\n        {karttafunktio()}\n        <RangeSlider \n          value          = {sliderValue} \n          handleChange   = {handleSliderChange}\n          max            = {max}/>\n        <div className=\"hakuTiedot\">\n          <Container fluid>\n            <Row>\n              <Col xs={4} md={6}>\n                <Dropdown\n                  valittuKunta   = {valittuDropDown}\n                  onChange       = {handleDropDownChange}\n                />\n              </Col>\n              <Col  xs={5} md={3}>\n                <Haku \n                value          = {hakusana} \n                handleChange   = {handleHakusanaChange} \n                handleKeyPress = {handleEnterPress}\n                hakemassa      = {gtrendsHakemassa}/>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n        <Laatikko \n          koronaLaatikko = {laatikkoKorona}\n          kaikki         = {kaikkiTapaukset}/>\n          \n        <LaatikkoKorrelaatio\n          sana           = {asetettuHakusana} \n          korrelaatio    = {laatikkoKorrelaatio}/>\n        \n        <Footer />\n        </div>\n        <LinearGraph \n          data           = {scatterPlotData}\n          uskottavuus    = {laatikkoKorrelaatio.uskottavuus}\n        />\n      </div>\n    );\n  else\n    return (\n      <div className=\"App\">\n        <p>Odota hetki kun sivu lataantuu</p>\n      </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/*\n© Authors:\nAntti Heimonen\nMaria Kangas\nKonsta Kalliokoski\nVilma Patama\n*/\n/*\nindex.js on hierarkian ylin komponetti\n*/\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}